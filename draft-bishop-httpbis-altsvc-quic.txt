



HTTPbis                                                        M. Bishop
Internet-Draft                                                    Akamai
Intended status: Standards Track                        1 September 2021
Expires: 5 March 2022


                  Existing HTTP/2 Extensions in HTTP/3
                    draft-bishop-httpbis-altsvc-quic

Abstract

   The ALTSVC and ORIGIN frames for HTTP/2 are equally applicable to
   HTTP/3, but need to be separately registered.  This document
   describes the ALTSVC and ORIGIN frames for HTTP/3.

Status of This Memo

   This Internet-Draft is submitted in full conformance with the
   provisions of BCP 78 and BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF).  Note that other groups may also distribute
   working documents as Internet-Drafts.  The list of current Internet-
   Drafts is at https://datatracker.ietf.org/drafts/current/.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   This Internet-Draft will expire on 5 March 2022.

Copyright Notice

   Copyright (c) 2021 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents (https://trustee.ietf.org/
   license-info) in effect on the date of publication of this document.
   Please review these documents carefully, as they describe your rights
   and restrictions with respect to this document.  Code Components
   extracted from this document must include Simplified BSD License text
   as described in Section 4.e of the Trust Legal Provisions and are
   provided without warranty as described in the Simplified BSD License.

Table of Contents

   1.  Introduction
   2.  Basic Mapping Conventions
   3.  The ALTSVC HTTP/3 Frame
   4.  The ORIGIN HTTP/3 Frame
   5.  Security Considerations
   6.  IANA Considerations
   7.  References
     7.1.  Normative References
     7.2.  Informative References
   Appendix A.  Acknowledgements
   Author's Address

1.  Introduction

   Existing RFCs define extensions to HTTP/2 which remain useful in
   HTTP/3.  Appendix A.2.3 of [HTTP3] describes the required updates for
   HTTP/2 frames to be used with HTTP/3.

   [ALTSVC] defines HTTP Alternative Services, which allow an origin's
   resources to be authoritatively available at a separate network
   location, possibly accessed with a different protocol configuration.
   It defines two mechanisms for transporting such information, an HTTP
   response header and an HTTP/2 frame type.

   [ORIGIN] defines the HTTP/2 ORIGIN frame, which indicates what
   origins are available on a given connection.  It defines a single
   HTTP/2 frame type.

2.  Basic Mapping Conventions

   Where HTTP/2 reserves Stream 0 for frames related to the state of the
   connection, HTTP/3 defines a pair of unidirectional streams called
   "control streams" for this purpose.  Where the existing RFCs indicate
   that a frame should be sent on Stream 0, this should be interpreted
   to mean the HTTP/3 control stream.

3.  The ALTSVC HTTP/3 Frame

   The ALTSVC HTTP/3 frame advertises the availability of an alternative
   service to an HTTP/3 client.

   An ALTSVC frame from a server to a client on the server's control
   stream indicates that the conveyed alternative service is associated
   with the origin contained in the Origin field of the frame.

   An ALTSVC frame from a server to a client on a stream other than the
   control stream indicates that the conveyed alternative service is
   associated with the origin of that stream.

   The layout and semantics of the frame payload are identical to those
   of the HTTP/2 frame defined in [ALTSVC].  The ALTSVC frame type is
   0xa (decimal 10), as in HTTP/2.

4.  The ORIGIN HTTP/3 Frame

   The ORIGIN HTTP/3 frame allows a server to indicate what origin(s)
   ([RFC6454]) the server would like the client to consider as members
   of the Origin Set (Section 2.3 of [ORIGIN]) for the connection within
   which it occurs.

   The ORIGIN frame is sent from servers to clients on the server's
   control stream.

   The layout and semantics of the frame payload are identical to those
   of the HTTP/2 frame defined in [ORIGIN].  The ORIGIN frame type is
   0xc (decimal 12), as in HTTP/2.

5.  Security Considerations

   This document introduces no new security considerations beyond those
   discussed in [ALTSVC] and [HTTP3].

6.  IANA Considerations

   This document registers two frame types in the "HTTP/3 Frame Type"
   registry ([HTTP3]).

                  +============+=======+===============+
                  | Frame Type | Value | Specification |
                  +============+=======+===============+
                  | ALTSVC     |  0xa  | Section 3     |
                  +------------+-------+---------------+
                  | ORIGIN     |  0xc  | Section 4     |
                  +------------+-------+---------------+

                  Table 1: Registered HTTP/3 Frame Types

7.  References

7.1.  Normative References

   [ALTSVC]   Nottingham, M., McManus, P., and J. Reschke, "HTTP
              Alternative Services", RFC 7838, DOI 10.17487/RFC7838,
              April 2016,
              <https://datatracker.ietf.org/doc/html/rfc7838>.

   [HTTP3]    Bishop, M., "Hypertext Transfer Protocol Version 3
              (HTTP/3)", Work in Progress, Internet-Draft, draft-ietf-
              quic-http-34, 2 February 2021,
              <https://datatracker.ietf.org/doc/html/draft-ietf-quic-
              http-34>.

   [ORIGIN]   Nottingham, M. and E. Nygren, "The ORIGIN HTTP/2 Frame",
              RFC 8336, DOI 10.17487/RFC8336, March 2018,
              <https://datatracker.ietf.org/doc/html/rfc8336>.

7.2.  Informative References

   [RFC6454]  Barth, A., "The Web Origin Concept", RFC 6454,
              DOI 10.17487/RFC6454, December 2011,
              <https://datatracker.ietf.org/doc/html/rfc6454>.

   [RFC7540]  Belshe, M., Peon, R., and M. Thomson, Ed., "Hypertext
              Transfer Protocol Version 2 (HTTP/2)", RFC 7540,
              DOI 10.17487/RFC7540, May 2015,
              <https://datatracker.ietf.org/doc/html/rfc7540>.

Appendix A.  Acknowledgements

   A portion of Mike's work on this draft was supported by Microsoft
   during his employment there.

Author's Address

   Mike Bishop
   Akamai

   Email: mbishop@evequefou.be
